import{s as b,q as y,h as m,v as k,x as C,o as a,f as l,a as r,u as i,X as M,b as e,F as u,y as j,i as p,e as z,z as B,A as h,n as L,m as A}from"./app-fd0ea24e.js";import{A as G}from"./AudioWidget-420354d3.js";import{_ as S}from"./_plugin-vue_export-helper-c27b6911.js";const F={class:"max-w-2xl mx-auto"},T={class:"py-8"},V=h('<div class="p-6 sm:p-10 flex items-center justify-center"><div><div class="flex items-center justify-center space-x-2"><img src="https://image.gstatics.cn/icon/geekchat.png" alt="GeekChat" class="rounded-lg w-12 h-12"><div class="font-semibold text-4xl sm:text-5xl">Geek<span class="text-blue-500">Chat</span></div><span class="bg-gradient-to-r from-purple-400 to-pink-500 px-3 py-1 text-xs font-semibold text-white text-center rounded-full inline-block">Beta</span></div><div class="text-center my-4 font-light text-base sm:text-xl my-4 sm:my-10">支持语音的免费体验版ChatGPT </div></div></div>',1),N={key:0,class:"pl-12 relative response-block scroll-mt-32 min-h-[40px]"},P=e("div",{class:"absolute top-0 left-0"},[e("div",{class:"w-9 h-9 bg-gray-200 rounded-md flex-none flex items-center justify-center text-gray-500"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"w-6 h-6"},[e("path",{"fill-rule":"evenodd",d:"M7.5 6a4.5 4.5 0 119 0 4.5 4.5 0 01-9 0zM3.751 20.105a8.25 8.25 0 0116.498 0 .75.75 0 01-.437.695A18.683 18.683 0 0112 22.5c-2.786 0-5.433-.608-7.812-1.7a.75.75 0 01-.437-.695z","clip-rule":"evenodd"})])])],-1),q={class:"w-full"},D={key:1,class:"pl-12 relative response-block scroll-mt-32 min-h-[60px]"},U=h('<div class="absolute top-0 left-0"><img src="https://image.gstatics.cn/icon/geekchat.png" class="w-9 h-9 rounded-md flex-none"><div class="my-1 flex items-center justify-center"><button><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" aria-hidden="true" class="w-4 h-4 hover:text-black transition-all text-gray-400" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M12.316 3.051a1 1 0 01.633 1.265l-4 12a1 1 0 11-1.898-.632l4-12a1 1 0 011.265-.633zM5.707 6.293a1 1 0 010 1.414L3.414 10l2.293 2.293a1 1 0 11-1.414 1.414l-3-3a1 1 0 010-1.414l3-3a1 1 0 011.414 0zm8.586 0a1 1 0 011.414 0l3 3a1 1 0 010 1.414l-3 3a1 1 0 11-1.414-1.414L16.586 10l-2.293-2.293a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></button></div></div>',1),E={class:"w-full"},H={class:"sticky bottom-0 left-0 right-0"},W={class:"max-w-2xl mx-auto w-full"},X=e("hr",null,null,-1),I={class:"p-4 bg-white px-4"},J={class:"pb-safe"},K=["onSubmit"],O=e("button",{class:L({"flex items-center justify-center px-4 py-2 border border-green-600 bg-green-500 hover:bg-green-600 text-white rounded-md text-sm md:text-base":!0}),title:"发送消息",type:"submit"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 12L3.269 3.126A59.768 59.768 0 0121.485 12 59.77 59.77 0 013.27 20.876L5.999 12zm0 0h7.5"})])],-1),Q=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})],-1),R=[Q],Y={__name:"Chat",setup(Z){const t=b();y(()=>{t.dispatch("initMessages")});const x=m(()=>t.state.messages.filter(o=>o!=null));m(()=>t.state.isTyping);const n=k({prompt:null}),g=()=>{t.dispatch("chatMessage",n.prompt),n.reset()},v=()=>{t.dispatch("clearMessages")},f=o=>{t.dispatch("audioMessage",o)},w=o=>{t.commit("addMessage",{role:"assistant",content:o})};return(o,c)=>{const d=C("markdown");return a(),l(u,null,[r(i(M),{title:"GeekChat - 支持语音的免费体验版ChatGPT"}),e("div",null,[e("div",F,[e("div",T,[V,(a(!0),l(u,null,j(i(x),(s,_)=>(a(),l("div",{class:"px-4 rounded-lg mb-4",key:_},[s&&s.role=="user"?(a(),l("div",N,[P,e("div",q,[r(d,{source:s.content,class:"text-sm space-y-2 inline-block bg-blue-500 text-white px-4 py-2 rounded-lg max-w-full overflow-auto"},null,8,["source"])])])):p((a(),l("div",D,[U,e("div",E,[r(d,{source:s.content,class:"prose prose-sm"},null,8,["source"])])],512)),[[A,s]])]))),128))])]),e("div",H,[e("div",W,[X,e("div",I,[e("div",J,[e("form",{class:"flex items-start justify-center space-x-2 mb-2",onSubmit:z(g,["prevent"])},[p(e("textarea",{required:"",id:"chat-input-textbox",placeholder:"输入你的问题...",name:"prompt",autocomplete:"off","onUpdate:modelValue":c[0]||(c[0]=s=>i(n).prompt=s),style:{height:"40px !important"},class:"block w-full rounded-md border-0 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-blue-600 sm:py-1.5 sm:text-sm sm:leading-6"},null,512),[[B,i(n).prompt]]),O,r(G,{onAudioUpload:f,onAudioFailed:w}),e("button",{class:"flex items-center justify-center px-4 py-2 border border-gray-500 bg-gray-400 hover:bg-gray-500 text-white rounded-md text-sm md:text-base",onClick:v,title:"清空消息",type:"button"},R)],40,K)])])])])])],64)}}},se=S(Y,[["__file","/home/geekr/Development/github/freechat/resources/js/Pages/Chat.vue"]]);export{se as default};
